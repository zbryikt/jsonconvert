var jsonconvert,module;jsonconvert={build:function(r){var n,t,e,o,i,f,u,s,l,a,h,p,y,v,c,d,g;if(Array.isArray(r)||(r=[r]),n={},t=1,r.length&&typeof r[0]!=typeof{})return[];for(e=0,o=r.length;o>e;++e)if(i=r[e],Array.isArray(i))for(f=0,u=i.length;u>f;++f)s=f,n[s]=typeof i[s];else for(l in i)a=i[l],n[l]||(n[l]=typeof a);p=[];for(l in n)a=n[l],p.push([l,a]);for(h=p,t=1,y=[],e=0,o=h.length;o>e;++e)if(v=h[e],l=v[0],a=v[1],y.push([[l],t++]),typeof r[0][l]==typeof{})for(c=this.build(r[0][l]),f=0,d=c.length;d>f;++f)g=c[f],y.push([[l].concat(g[0]),t++]);return y},traverse:function(r,n,t,e,o){var i,f,u,s,l,a,h,p,y,v;if(e>=n.length)return void o.push(t.map(function(r){return r?'"'+r+'"':""}).join(","));for(i=n[e],f=r,u=null,s=0,l=i[0].length;l>s;++s)a=s,h=f,f=f[i[0][a]],u=i[0][a];if(typeof f!=typeof{})return t[e]=f,this.traverse(r,n,t,e+1,o);if(!Array.isArray(f))return this.traverse(r,n,t,e+1,o);for(p=h[u],s=0,y=f.length;y>s;++s)v=f[s],h[u]=v,typeof v!=typeof{}&&(t[e]=v),this.traverse(r,n,t,e+1,o);return h[u]=p},toCSV:function(r){var n,t,e,o,i,f,u;if(n=[],t=this.build(r),0===t.length)return r.join("\n");for(e=[],o=0,i=t.length;i>o;++o)f=t[o],e.push(null);if(n.push(t.map(function(r){return'"'+r[0].join(" / ")+'"'}).join(",")),Array.isArray(r))for(o=0,i=r.length;i>o;++o)u=r[o],this.traverse(u,t,e,0,n);else this.traverse(r,t,e,0,n);return n.join("\n")},findArray:function(r){var n,t,e;if(Array.isArray(r))return r;if(typeof r!=typeof{})return null;for(n in r)if(t=r[n],e=this.findArray(t))return e;return[r]},simpleCSV:function(r){function n(r){return'"'+f[r]+'"'}var t,e,o,i,f,u,s;for(t="",r=this.findArray(r),e={},o=0,i=r.length;i>o;++o){f=r[o];for(u in f)e[u]=1}s=[];for(u in e)s.push(u);for(e=s,t+=e.map(function(r){return'"'+r+'"'}).join(",")+"\n",o=0,i=r.length;i>o;++o)f=r[o],t+=e.map(n).join(",")+"\n";return t}},("undefined"==typeof module||null===module)&&(module={}),module.exports=jsonconvert;