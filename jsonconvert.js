var jsonconvert,module;jsonconvert={build:function(r){var n,t,e,o,i,u,f,s,l,a,h,p,y,v,c;for(Array.isArray(r)||(r=[r]),n={},t=1,e=0,o=r.length;o>e;++e){i=r[e];for(u in i)f=i[u],n[u]||(n[u]=typeof f)}l=[];for(u in n)f=n[u],l.push([u,f]);for(s=l,t=1,a=[],e=0,o=s.length;o>e;++e)if(h=s[e],u=h[0],f=h[1],a.push([[u],t++]),typeof r[0][u]==typeof{})for(p=this.build(r[0][u]),y=0,v=p.length;v>y;++y)c=p[y],a.push([[u].concat(c[0]),t++]);return a},traverse:function(r,n,t,e,o){var i,u,f,s,l,a,h,p,y,v=[];if(e>=n.length)return void o.push(t.map(function(r){return r?'"'+r+'"':""}).join(","));for(i=n[e],u=null,f=r,s=0,l=i[0].length;l>s;++s)a=s,h=f,f=f[i[0][a]],u=i[0][a];if(typeof f!=typeof{})return t[e]=f,this.traverse(r,n,t,e+1,o);if(!Array.isArray(f))return this.traverse(r,n,t,e+1,o);for(s=0,p=f.length;p>s;++s)y=f[s],h[u]=y,v.push(this.traverse(r,n,t,e+1,o));return v},toCSV:function(r){var n,t,e,o,i,u;for(n=[],t=this.build(r),e=[],o=0,i=t.length;i>o;++o)u=t[o],e.push(null);return n.push(t.map(function(r){return'"'+r[0].join(" / ")+'"'}).join(",")),this.traverse(r,t,e,0,n),n.join("\n")},findArray:function(r){var n,t,e;if(Array.isArray(r))return r;if(typeof r!=typeof{})return null;for(n in r)if(t=r[n],e=this.findArray(t))return e;return[r]},simpleCSV:function(r){function n(r){return'"'+u[r]+'"'}var t,e,o,i,u,f,s;for(t="",r=this.findArray(r),e={},o=0,i=r.length;i>o;++o){u=r[o];for(f in u)e[f]=1}s=[];for(f in e)s.push(f);for(e=s,t+=e.map(function(r){return'"'+r+'"'}).join(",")+"\n",o=0,i=r.length;i>o;++o)u=r[o],t+=e.map(n).join(",")+"\n";return t}},("undefined"==typeof module||null===module)&&(module={}),module.exports=jsonconvert;